# Отчет по алгоритму Рабина-Карпа

## 1. Что такое Rolling Hash?

Обычный способ сравнивать строки — сравнивать их буква за буквой. Это долго.
Быстрый способ — сравнить их **хеши**. Если числа разные, то и строки точно разные.

Но если мы ищем подстроку в длинном тексте, нам нужно считать хеш для каждого "окошка", сдвигаясь на один символ вправо. Если считать хеш заново каждый раз, это снова долго.

**Rolling Hash** решает эту проблему. Он позволяет быстро пересчитать хеш при сдвиге окна на 1 символ, используя математику, а не пересчитывая все буквы заново.

**Как это работает:**
Возьмем число `123`.
Мы хотим сдвинуться вправо и добавить `4`, чтобы получилось `234`.
Нам не нужно читать `2`, потом `3`, потом `4`.
Мы делаем так:
1. Берем `123`.
2. Выкидываем первую цифру: `123 - 100 = 23`.
3. Сдвигаем вправо: `23 * 10 = 230`.
4. Добавляем новую цифру: `230 + 4 = 234`.

В алгоритме вместо цифр — коды букв.

---

## 2. Сложность алгоритма

*   **N** — длина текста.
*   **M** — длина искомой подстроки.

### Лучший и средний случай: O(N + M)
1.  Считаем хеш паттерна: **O(M)**.
2.  Проходим по тексту один раз, сдвигая хеш за **O(1)**.
3.  Итого: **O(N + M)**.

### Худший случай: O(N * M)
Это происходит при **коллизиях**. Коллизия — это когда у разных строк случайно совпали хеши.
Алгоритм работает так: если хеши совпали, мы **обязаны** проверить строки посимвольно.
Если у нас "плохой" текст (например, поиск "AAA" в строке "AAAA..."), и хеши постоянно совпадают, мы каждый раз делаем проверку за O(M).
В итоге сложность скатывается к квадратичной.
